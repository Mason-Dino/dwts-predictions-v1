<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&family=Lato:wght@400;600&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
        <title>Hello World</title>
    </head>
    <body>
        <h1>Dancing with the Stars</h1>
        <div class="overall">
            <div class="parent-cards">
                <h2>Contestants</h2>  
                <div class="card">
                    <img src="{{ url_for('static', filename='images/robert.jpg') }}" alt="Dancing with the Stars Press Picutre of Robert">
                    <h2>Robert Irwin</h2>
                    <p>Witney Carson</p>
                </div>
                <div class="card">
                    <img src="{{ url_for('static', filename='images/jordan.jpg') }}" alt="Dancing with the Stars Press Picutre of jordan">
                    <h2>Jordan Chiles</h2>
                    <p>Ezra Sosa</p>
                </div>
                <div class="card">
                    <img src="{{ url_for('static', filename='images/alix.jpg') }}" alt="Dancing with the Stars Press Picutre of alix">
                    <h2>Alix Earle</h2>
                    <p>Val Chmerkovskiy</p>
                </div>
                <div class="card">
                    <img src="{{ url_for('static', filename='images/elaine.jpg') }}" alt="Dancing with the Stars Press Picutre of elaine">
                    <h2>Elaine Hendrix</h2>
                    <p>Alan Bersten</p>
                </div>
                <div class="card">
                    <img src="{{ url_for('static', filename='images/dylan.jpg') }}" alt="Dancing with the Stars Press Picutre of dylan">
                    <h2>Dylan Efron</h2>
                    <p>Daniella Karagach</p>
                </div>
            </div>
            <div class="parent-guess">
                <h2>Guess (1st - Last)</h2>
            </div>
        </div>
    </body>
    <script defer>
        const cards = document.querySelectorAll('.card');
        const containers = document.querySelectorAll('.parent-cards, .parent-guess');

        // Add drag event listeners to all cards
        cards.forEach(card => {
            card.addEventListener('dragstart', dragStart);
            card.addEventListener('dragend', dragEnd);
            card.setAttribute('draggable', 'true');
        });

        // Add drop zone listeners to containers
        containers.forEach(container => {
            container.addEventListener('dragover', dragOver);
            container.addEventListener('drop', drop);
            container.addEventListener('dragleave', dragLeave);
            container.addEventListener('dragenter', dragEnter);
        });

        let draggedCard = null;

        function dragStart(e) {
            draggedCard = this;
            this.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
        }

        function dragEnd(e) {
            this.classList.remove('dragging');
            
            // Remove drag-over styling from all containers
            containers.forEach(container => {
                container.classList.remove('drag-over');
            });
        }

        function dragOver(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
            return false;
        }

        function dragEnter(e) {
            e.preventDefault();
            if (this.classList.contains('parent-cards') || this.classList.contains('parent-guess')) {
                this.classList.add('drag-over');
            }
        }

        function dragLeave(e) {
            if (e.target === this) {
                this.classList.remove('drag-over');
            }
        }

        function drop(e) {
            e.preventDefault();
            e.stopPropagation();
            
            this.classList.remove('drag-over');
            
            if (draggedCard) {
                // Append the card to the new container
                this.appendChild(draggedCard);
            }
            
            return false;
        }
    </script>
</html>